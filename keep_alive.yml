name: Keep Server Alive

on:
  schedule:
    # 13분마다 실행 (Render 제한시간 15분보다 조금 더 안전하게 앞당김)
    - cron: "*/13 * * * *"
  workflow_dispatch: # 수동 실행 버튼

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Server (Fake Browser)
        run: |
          echo "서버 깨우기 (브라우저인 척 위장)..."
          # -A 옵션으로 크롬 브라우저인 척 위장하여 접속
          curl -A "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36" https://sicbo-game.onrender.com/
          echo "핑 전송 완료!"